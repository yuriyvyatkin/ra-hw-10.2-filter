{"version":3,"sources":["actions/actionTypes.js","actions/actionCreators.js","components/Forms/Form/Form.js","components/Forms/SearchBar/SearchBar.js","components/Table/TableRow/TableRow.js","components/Table/Table.js","App.js","reducers/formReducer.js","reducers/searchReducer.js","reducers/listReducer.js","store/index.js","index.js"],"names":["ADD_SERVICE","ADD_SERVICE_CHANGES","REMOVE_SERVICE","EDIT_SERVICE","END_SERVICE_EDITING","CHANGE_SERVICE_FIELD","CHANGE_SEARCH_FIELD","endServiceEditing","type","payload","Form","form","useSelector","state","dispatch","useDispatch","handleInputChange","target","name","value","changeServiceField","className","onSubmit","event","preventDefault","price","editingMode","index","addServiceChanges","addService","onReset","htmlFor","id","required","onChange","placeholder","autoComplete","min","max","SearchBar","search","query","changeSearchField","TableRow","props","handleDeleteClick","onDeleteClick","handleEditClick","onEditClick","href","onClick","Table","services","list","removeService","findIndex","service","editService","filteredList","map","startsWith","filter","Boolean","length","colSpan","App","initialState","reducer","combineReducers","action","nanoid","updatedState","slice","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.796a0ddd.chunk.js","sourcesContent":["export const ADD_SERVICE = 'ADD_SERVICE';\nexport const ADD_SERVICE_CHANGES = 'ADD_SERVICE_CHANGES';\nexport const REMOVE_SERVICE = 'REMOVE_SERVICE';\nexport const EDIT_SERVICE = 'EDIT_SERVICE';\nexport const END_SERVICE_EDITING = 'END_SERVICE_EDITING';\nexport const CHANGE_SERVICE_FIELD = 'CHANGE_SERVICE_FIELD';\nexport const CHANGE_SEARCH_FIELD = 'CHANGE_SEARCH_FIELD';\n","import {\n  ADD_SERVICE,\n  ADD_SERVICE_CHANGES,\n  REMOVE_SERVICE,\n  EDIT_SERVICE,\n  END_SERVICE_EDITING,\n  CHANGE_SERVICE_FIELD,\n  CHANGE_SEARCH_FIELD,\n} from './actionTypes';\n\nexport function addService(name, price) {\n  return { type: ADD_SERVICE, payload: { name, price } };\n}\n\nexport function addServiceChanges(index, name, price) {\n  return { type: ADD_SERVICE_CHANGES, payload: { index, name, price } };\n}\n\nexport function removeService(id) {\n  return { type: REMOVE_SERVICE, payload: { id } };\n}\n\nexport function editService(name, price, editingMode) {\n  return { type: EDIT_SERVICE, payload: { name, price, editingMode } };\n}\n\nexport function endServiceEditing() {\n  return { type: END_SERVICE_EDITING, payload: {} };\n}\n\nexport function changeServiceField(name, value) {\n  return { type: CHANGE_SERVICE_FIELD, payload: { name, value } };\n}\n\nexport function changeSearchField(name, value) {\n  return { type: CHANGE_SEARCH_FIELD, payload: { name, value } };\n}\n","import '../Form.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  addService,\n  addServiceChanges,\n  endServiceEditing,\n  changeServiceField\n} from '../../../actions/actionCreators';\n\nexport default function Form() {\n  const form = useSelector(state => state.form);\n  const dispatch = useDispatch();\n\n  function handleInputChange({ target: { name, value } }) {\n    dispatch(changeServiceField(name, value));\n  }\n\n  return (\n    <form\n      className=\"Form\"\n      onSubmit={(event) => {\n        event.preventDefault();\n        const { name, price } = form;\n\n        if (form.editingMode.state) {\n          const { index } = form.editingMode;\n\n          dispatch(addServiceChanges(index, name, price));\n          dispatch(endServiceEditing());\n        } else {\n          dispatch(addService(name, price))\n        }\n      }}\n\n      onReset={(event) => {\n        event.preventDefault();\n\n        dispatch(endServiceEditing());\n      }}\n    >\n      <div className=\"Form-control\">\n        <label htmlFor=\"name\">Услуга</label>\n        <input\n          className=\"Form-control__name\"\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          required\n          value={form.name}\n          onChange={handleInputChange}\n          placeholder=\"Например: Замена...\"\n          autoComplete=\"off\"\n        />\n      </div>\n      <div className=\"Form-control\">\n        <label htmlFor=\"price\">Стоимость (руб.)</label>\n        <input\n          className=\"Form-control__price\"\n          type=\"number\"\n          id=\"price\"\n          name=\"price\"\n          min=\"1\"\n          max=\"999999\"\n          required\n          value={form.price}\n          onChange={handleInputChange}\n        />\n      </div>\n      <input\n        className=\"Form-control__button-save\"\n        type=\"submit\"\n        value=\"Сохранить\"\n      />\n      {\n        form.editingMode.state\n        && <input\n            className=\"Form-control__button-reset\"\n            type=\"reset\"\n            value=\"Отменить\"\n          />\n      }\n    </form>\n  );\n}\n","import '../Form.css';\nimport './SearchBar.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { changeSearchField } from '../../../actions/actionCreators';\n\nexport default function SearchBar() {\n  const search = useSelector(state => state.search);\n  const dispatch = useDispatch();\n\n  function handleSearchChange({ target }) {\n    const { name, value } = target;\n\n    dispatch(changeSearchField(name, value));\n  }\n\n  return (\n    <form\n      className=\"Form\"\n    >\n      <div className=\"Form-control\">\n        <label htmlFor=\"query\">Поиск</label>\n        <input\n          className=\"Form-control__name\"\n          type=\"text\"\n          id=\"query\"\n          name=\"query\"\n          value={search.query}\n          onChange={handleSearchChange}\n          placeholder=\"Начните вводить наименование услуги\"\n          autoComplete=\"off\"\n        />\n      </div>\n    </form>\n  );\n}\n","import './TableRow.css';\n\nexport default function TableRow(props) {\n  const {\n    id,\n    name,\n    price,\n    onDeleteClick: handleDeleteClick,\n    onEditClick: handleEditClick,\n  } = props;\n\n  return (\n    <tr className=\"TableRow\" id={id}>\n      <td>{name}</td>\n      <td>{price}</td>\n      <td>\n        <a\n          className=\"TableRow-control__edit\"\n          href=\"#0\"\n          onClick={handleEditClick}\n        >\n          &#9998;\n        </a>\n        <a\n          className=\"TableRow-control__delete\"\n          href=\"#0\"\n          onClick={handleDeleteClick}\n        >\n          &#10008;\n        </a>\n      </td>\n    </tr>\n  );\n}\n","import './Table.css';\nimport TableRow from './TableRow/TableRow';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { removeService, editService } from '../../actions/actionCreators';\n\nexport default function Table() {\n  const services = useSelector((state) => state.list);\n  const search = useSelector((state) => state.search);\n  const dispatch = useDispatch();\n  const tableLength = 3;\n\n  function handleDeleteClick(id) {\n    return dispatch(removeService(id));\n  }\n\n  function handleEditClick(id) {\n    const index = services.findIndex((service) => service.id === id);\n    const { name, price } = services[index];\n\n    return dispatch(editService(name, price, { state: true, index }));\n  }\n\n  let filteredList = null;\n\n  if (search.query) {\n    filteredList = services.map(({ id, name, price }) => {\n      if (!name.startsWith(search.query)) {\n        return null;\n      }\n\n      return (\n        <TableRow\n          key={id}\n          id={id}\n          name={name}\n          price={price}\n          onDeleteClick={() => handleDeleteClick(id)}\n          onEditClick={() => handleEditClick(id)}\n        />\n      );\n    });\n\n    if (!filteredList.filter(Boolean).length) {\n      filteredList = (\n        <tr>\n          <td colSpan={tableLength}>\n            По вашему запросу ничего не найдено\n          </td>\n        </tr>\n      );\n    }\n  }\n\n  const list = services.map(({ id, name, price }) => {\n    return (\n      <TableRow\n        key={id}\n        id={id}\n        name={name}\n        price={price}\n        onDeleteClick={() => handleDeleteClick(id)}\n        onEditClick={() => handleEditClick(id)}\n      />\n    );\n  })\n\n  return (\n    <table className=\"Table\">\n      <thead>\n        <tr>\n          <th>Услуга</th>\n          <th>Стоимость (руб.)</th>\n          <th>Действия</th>\n        </tr>\n      </thead>\n      <tbody>{filteredList || list}</tbody>\n    </table>\n  );\n}\n","import Form from './components/Forms/Form/Form';\nimport SearchBar from './components/Forms/SearchBar/SearchBar';\nimport Table from './components/Table/Table';\n\nfunction App() {\n  return (\n    <>\n      <Form />\n      <SearchBar />\n      <Table />\n    </>\n  );\n}\n\nexport default App;\n","import {\n  CHANGE_SERVICE_FIELD,\n  EDIT_SERVICE,\n  END_SERVICE_EDITING,\n} from '../actions/actionTypes';\n\nconst initialState = {\n  name: '',\n  price: '',\n  editingMode: {\n    state: false,\n    index: '',\n  }\n};\n\nexport default function formReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_SERVICE_FIELD:\n      const { name, value } = action.payload;\n      return { ...state, [name]: value };\n    case EDIT_SERVICE:\n      return { ...state, ...action.payload };\n    case END_SERVICE_EDITING:\n      return initialState;\n    default:\n      return state;\n  }\n}\n","import {\n  CHANGE_SEARCH_FIELD,\n} from '../actions/actionTypes';\n\nconst initialState = {\n  query: '',\n};\n\nexport default function listReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_SEARCH_FIELD:\n      const { name, value } = action.payload;\n      return { ...state, [name]: value };\n    default:\n      return state;\n  }\n}\n","import { nanoid } from 'nanoid';\nimport {\n  ADD_SERVICE,\n  ADD_SERVICE_CHANGES,\n  REMOVE_SERVICE,\n} from '../actions/actionTypes';\n\nconst initialState = [\n  {\n    id: '76OOH7xQPaqkVY6WJhpJ5',\n    name: 'Замена стекла',\n    price: '21000',\n  },\n  {\n    id: 'Vmii-9M7fj9C6LpjSx1Eh',\n    name: 'Замена дисплея',\n    price: '25000',\n  },\n  {\n    id: 'WJ0HT1M9kA-IeAcSq6Quu',\n    name: 'Замена аккумулятора',\n    price: '4000',\n  },\n  {\n    id: 'G5RdV1pOqHALXLT8hY1Oa',\n    name: 'Замена микрофона',\n    price: '2500',\n  },\n];\n\nexport default function listReducer(state = initialState, action) {\n  const { index, id, name, price } = { ...action.payload };\n\n  switch (action.type) {\n    case ADD_SERVICE:\n      return [...state, { id: nanoid(), name, price: price }];\n    case ADD_SERVICE_CHANGES:\n      const updatedState = [\n        ...state.slice(0, index),\n        {\n          id: state[index].id,\n          name: name,\n          price: price,\n        },\n        ...state.slice(index + 1),\n      ];\n      return updatedState;\n    case REMOVE_SERVICE:\n      return state.filter((service) => service.id !== id);\n    default:\n      return state;\n  }\n}\n","import { createStore, combineReducers } from \"redux\";\nimport formReducer from '../reducers/formReducer';\nimport searchReducer from '../reducers/searchReducer';\nimport listReducer from '../reducers/listReducer';\n\nconst reducer = combineReducers({\n  form: formReducer,\n  search: searchReducer,\n  list: listReducer,\n});\n\nconst store = createStore(\n  reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}